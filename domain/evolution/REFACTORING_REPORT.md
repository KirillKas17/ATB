# –û—Ç—á–µ—Ç –æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –º–æ–¥—É–ª—è `domain/evolution`

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

#### –ù–æ–≤—ã–µ —Ç–∏–ø—ã –≤ `domain/types/evolution_types.py`:
- **NewType**: `FitnessScore`, `AccuracyScore`, `ProfitabilityScore`, `RiskScore`, `ConsistencyScore`, `DiversityScore`, `ComplexityScore`
- **Literal**: `OptimizationMethod`, `SelectionMethod`, `MutationType`, `CrossoverType`, `EvaluationStatus`
- **Final –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**: `DEFAULT_POPULATION_SIZE`, `MIN_ACCURACY_THRESHOLD`, –∏ –¥—Ä.
- **TypedDict**: `IndicatorParameters`, `FilterParameters`, `EntryCondition`, `ExitCondition`, `TradePosition`, `OptimizationResult`, `SelectionStatistics`, `EvolutionMetrics`, `StrategyPerformance`
- **Protocol**: `FitnessEvaluatorProtocol`, `StrategyGeneratorProtocol`, `StrategyOptimizerProtocol`, `StrategySelectorProtocol`, `EvolutionOrchestratorProtocol`
- **Enum**: `EvolutionPhase`, `FitnessComponent`, `MutationStrategy`, `CrossoverStrategy`, `SelectionStrategy`
- **Dataclass**: `EvolutionConfig`, `FitnessWeights`

### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (`strategy_model.py`)

#### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `clone()` - –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ (IndicatorConfig, FilterConfig, EntryRule, ExitRule, StrategyCandidate)
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞/—Ñ–∏–ª—å—Ç—Ä–∞
- –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞
- –ú–µ—Ç–æ–¥—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤/–∏–∑ —Å–ª–æ–≤–∞—Ä—è —Å –ø–æ–ª–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π

#### –£–ª—É—á—à–µ–Ω–∏—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏:
- –ó–∞–º–µ–Ω–∞ `ParameterDict` –Ω–∞ `IndicatorParameters` –∏ `FilterParameters`
- –ó–∞–º–µ–Ω–∞ `ConditionList` –Ω–∞ `List[EntryCondition]` –∏ `List[ExitCondition]`
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`strategy_fitness.py`)

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
- `get_roi()` - —Ä–∞—Å—á–µ—Ç ROI —Å–¥–µ–ª–∫–∏
- `get_risk_metrics()` - –º–µ—Ç—Ä–∏–∫–∏ —Ä–∏—Å–∫–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏
- `get_performance_summary()` - —Å–≤–æ–¥–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ TypedDict
- `get_trade_analysis()` - –∞–Ω–∞–ª–∏–∑ —Å–¥–µ–ª–æ–∫ –ø–æ —Ç–∏–ø–∞–º –∏ –≤—Ä–µ–º–µ–Ω–∏
- `_get_monthly_performance()` - –º–µ—Å—è—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –£–ª—É—á—à–µ–Ω–∏—è:
- –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `StrategyPerformance` TypedDict
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã —Ä–∏—Å–∫-–º–µ—Ç—Ä–∏–∫
- –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫

### 4. –£–ª—É—á—à–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π (`strategy_generator.py`)

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
- `_crossover_indicators()`, `_crossover_filters()`, `_crossover_entry_rules()`, `_crossover_exit_rules()`
- `_mutate_indicators()`, `_mutate_filters()`, `_mutate_entry_rules()`, `_mutate_exit_rules()`, `_mutate_execution_parameters()`
- `_mutate_parameters()` - –º—É—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º ¬±20%
- `get_generation_count()`, `reset_generation_count()`

#### –£–ª—É—á—à–µ–Ω–∏—è:
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ `MutationStrategy`, `CrossoverStrategy`
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º—É—Ç–∞—Ü–∏–∏ –∏ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã

#### –í `domain/types/__init__.py`:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∏–∑ `evolution_types.py`
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `__all__` —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

#### –í `domain/evolution/__init__.py`:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç—ã –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
- –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ DDD –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ —Ç–∏–ø–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Value Objects (NewType)
- –°—Ç—Ä–æ–≥–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

### 2. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:
- **SRP**: –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- **OCP**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
- **LSP**: –í—Å–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–º–µ–Ω—è—é—Ç –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã
- **ISP**: –ü—Ä–æ—Ç–æ–∫–æ–ª—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **DIP**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (Protocol)

### 3. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å:
- –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –±–µ–∑ `Any` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥–ª—É—à–µ–∫ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º DDD –∏ SOLID
- –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–¥–∞
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Python
- Forward references –¥–ª—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- TypedDict –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Protocol –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- NewType –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Literal –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- Final –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
- 100% —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- 0 –∑–∞–≥–ª—É—à–µ–∫ –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π
- –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ PEP8 –∏ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å `domain/evolution` –ø—Ä–∏–≤–µ–¥–µ–Ω –∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É —É—Ä–æ–≤–Ω—é —Å –ø–æ–ª–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π, —É–ª—É—á—à–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é. 