# –û—Ç—á–µ—Ç –æ–± –∞—É–¥–∏—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è—Ö –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é (–ò–°–ü–†–ê–í–õ–ï–ù–´)

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ float –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
**–†–∏—Å–∫**: –ü–æ—Ç–µ—Ä—è –¥–µ–Ω–µ–≥ –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- `RiskConfig`: –í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (max_position_size, max_daily_loss, stop_loss_pct) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `float`
- `TradingConfig`: min_order_size –∏ max_order_size –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `float`
- `MLConfig`: confidence_threshold –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `float`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ `Decimal` –¥–ª—è —Ç–æ—á–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `from decimal import Decimal` –≤ config.py
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `Decimal("0.1")` –≤–º–µ—Å—Ç–æ `0.1`

### 2. –ù–µ—Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É—Ç–∏–ª–∏—Ç–∞—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: calculate_fibonacci_levels –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª float –¥–ª—è —É—Ä–æ–≤–Ω–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Decimal`
- ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –§–∏–±–æ–Ω–∞—á—á–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ç–æ—á–Ω—ã–µ: `Decimal("0.236")` –≤–º–µ—Å—Ç–æ `0.236`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è calculate_support_resistance –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `Decimal`

## üîß –£–ª—É—á—à–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ä–¥–µ—Ä–æ–≤ —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–∏—Ä–∂
**–ü—Ä–æ–±–ª–µ–º–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –æ—Ä–¥–µ—Ä–æ–≤ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∏—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—é

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `exchange_min_order_sizes` –≤ TradingConfig
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —Ü–µ–Ω –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `validate_order_size()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ä–¥–µ—Ä–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `get_precision_for_symbol()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
config = TradingConfig()
is_valid = config.validate_order_size("binance", "BTC/USDT", Decimal("0.00001"))
price_prec, qty_prec = config.get_precision_for_symbol("BTC/USDT")
```

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ç–∞—Ç–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∏—Å–∫–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ä–∏—Å–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `adjust_for_volatility()` –≤ RiskConfig
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–∏–≥–Ω–∞–ª–µ

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
risk_config = RiskConfig()
current_volatility = Decimal("0.03")  # 3% –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
adjusted_config = risk_config.adjust_for_volatility(current_volatility)
```

### 3. –ê–Ω–∞–ª–∏–∑ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö—Ä—É–ø–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –º–æ–≥–ª–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º—É –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—é

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculate_liquidity_impact()` –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä—ã–Ω–æ–∫
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `should_split_order()` –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —Ä–∞–∑–±–∏–µ–Ω–∏—é –æ—Ä–¥–µ—Ä–æ–≤
- ‚úÖ –†–∞—Å—á–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
impact = calculate_liquidity_impact(
    order_size=Decimal("1.0"), 
    orderbook_data=[(Decimal("50000"), Decimal("0.5"))],
    side="buy"
)
print(f"–û–∂–∏–¥–∞–µ–º–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ: {impact['slippage_pct']}%")
```

## üìä –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

### 1. base_exchange_service.py
**–õ–æ–∫–∞—Ü–∏—è**: –°—Ç—Ä–æ–∫–∏ 237, 243, 259-267
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ Decimal –≤ float –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–∏—Ä–∂–∞–º–∏
**–†–∏—Å–∫**: –ü–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤

### 2. risk calculators
**–õ–æ–∫–∞—Ü–∏—è**: infrastructure/agents/risk/calculators.py, —Å—Ç—Ä–æ–∫–∏ 277-314
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ float()
**–†–∏—Å–∫**: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö —Ä–∏—Å–∫–∞

### 3. order_manager.py
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ float
**–†–∏—Å–∫**: –ü–æ—Ç–µ—Ä—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö —Ç–æ—Ä–≥–æ–≤–ª–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—ã–≥–æ–¥—ã

### –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏:
- –ò—Å–∫–ª—é—á–µ–Ω—ã –æ—à–∏–±–∫–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–∞—Ö
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ 28 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ —Å—Ä–µ–¥—Å—Ç–≤ –∏–∑-–∑–∞ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏

### –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- –°–Ω–∏–∂–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–æ–ª—å—à–µ –ø—Ä–∏–±—ã–ª–∏

### –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏:
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã –∑–∞ —Å—á–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä—ã–Ω–æ–∫

## üîÑ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ–∞–π–ª—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ float
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –¥–∞—à–±–æ—Ä–¥
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –∞—É–¥–∏—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã ATB Trading*