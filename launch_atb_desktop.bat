@echo off
chcp 65001 >nul
title ‚ö° ATB Trading System - Desktop Launcher v3.0

echo.
echo ===============================================================================
echo                ‚ö° ATB Trading System - Desktop Launcher v3.0
echo ===============================================================================
echo.
echo üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏...
echo.

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Python
python --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞: Python –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo üì• –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+ —Å https://python.org
    pause
    exit /b 1
)

echo ‚úÖ Python –Ω–∞–π–¥–µ–Ω
echo.

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è pip
pip --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞: pip –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo üì• –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º pip
    pause
    exit /b 1
)

echo ‚úÖ pip –Ω–∞–π–¥–µ–Ω
echo.

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ PyQt6
python -c "import PyQt6" >nul 2>&1
if errorlevel 1 (
    echo üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyQt6...
    pip install PyQt6 PyQt6-Charts
    if errorlevel 1 (
        echo ‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PyQt6
        pause
        exit /b 1
    )
)

echo ‚úÖ PyQt6 –¥–æ—Å—Ç—É–ø–µ–Ω

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ loguru
python -c "import loguru" >nul 2>&1
if errorlevel 1 (
    echo üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ loguru...
    pip install loguru
)

echo ‚úÖ loguru –¥–æ—Å—Ç—É–ø–µ–Ω

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python -c "import numpy" >nul 2>&1
if errorlevel 1 (
    echo üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ numpy...
    pip install numpy
)

python -c "import pandas" >nul 2>&1
if errorlevel 1 (
    echo üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pandas...
    pip install pandas
)

python -c "import matplotlib" >nul 2>&1
if errorlevel 1 (
    echo üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ matplotlib...
    pip install matplotlib
)

echo.
echo ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
echo.

:: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
if not exist "logs" mkdir logs
if not exist "config" mkdir config
if not exist "data" mkdir data
if not exist "models" mkdir models
if not exist "backups" mkdir backups

echo ‚úÖ –†–∞–±–æ—á–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã
echo.

:: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
if not exist "atb_unified_desktop_app.py" (
    echo ‚ùå –û—à–∏–±–∫–∞: –§–∞–π–ª atb_unified_desktop_app.py –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo üìÇ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    pause
    exit /b 1
)

echo ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–π–¥–µ–Ω
echo.

:: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
set ATB_MODE=simulation
set ATB_DEBUG=false
set ATB_LOG_LEVEL=INFO

echo üéØ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: –°–∏–º—É–ª—è—Ü–∏—è
echo üêõ –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏: –û—Ç–∫–ª—é—á–µ–Ω
echo üìù –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: INFO
echo.

echo ===============================================================================
echo                        üöÄ –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
echo ===============================================================================
echo.
echo üéÆ –ì–æ—Ç–æ–≤–∏–º—Å—è –∫ –∑–∞–ø—É—Å–∫—É ATB Trading System...
echo.
echo üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
echo   ‚Ä¢ üìä –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥
echo   ‚Ä¢ ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è —Å –ò–ò
echo   ‚Ä¢ üìà –†–µ–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
echo   ‚Ä¢ üîô –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
echo   ‚Ä¢ üíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º
echo   ‚Ä¢ üîÆ ML –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
echo   ‚Ä¢ ‚öôÔ∏è –ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
echo.
echo ‚ö° –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...
timeout /t 3 /nobreak >nul

:: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
echo.
echo üöÄ –ó–∞–ø—É—Å–∫ ATB Trading System Desktop...
echo.

python atb_unified_desktop_app.py

:: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
if errorlevel 1 (
    echo.
    echo ‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å —Å –æ—à–∏–±–∫–æ–π!
    echo üìù –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª logs/dashboard.log –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
    echo.
) else (
    echo.
    echo ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
    echo.
)

echo ===============================================================================
echo                             –ó–ê–í–ï–†–®–ï–ù–ò–ï
echo ===============================================================================
echo.
echo üí´ –°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ATB Trading System!
echo üåê –°–∞–π—Ç: https://atb-trading.com
echo üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞: support@atb-trading.com
echo.
echo üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–∏:
echo   ‚Ä¢ –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: %time%
echo   ‚Ä¢ –î–∞—Ç–∞: %date%
echo   ‚Ä¢ –†–µ–∂–∏–º: %ATB_MODE%
echo.

pause